#!/bin/bash

prepare() {
    apt update && apt install nala
    nala install git clang cmake ninja-build build-essential libyaml-cpp-dev libboost-all-dev
}

configurate() {
    cd
    git clone https://github.com/frefolli/pacmon
    cd pacmon/tool/cpp
}

build() {
    ./build.sh && mkdir -p dist/usr/local/bin && cp build/src/main/main dist/usr/local/bin
}

package() {
    tar cf dist.tar dist/
    gzip dist.tar
    cp dist.tar.gz /bovisa-debian64
}

prepare
configurate
build
package
